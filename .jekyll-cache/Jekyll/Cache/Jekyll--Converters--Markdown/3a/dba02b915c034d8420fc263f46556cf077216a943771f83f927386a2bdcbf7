I"Ó<p>Welcome to part 2 of the Command Line basic Usage tutorials!!</p>

<h1 id="table-of-contents">Table of Contents</h1>
<p><strong>2.</strong> Advanced Usage (loops, scripting, etc.)</p>

<p>Quicklinks: <a href="#while">while</a>, <a href="#for">for</a></p>

<h1 id="background">Background</h1>

<p>In this tutorial, we will go over the formating of loops, and then making these into scripts. Loops in bash (or any coding language in general) are those quality of life improvements you find as you tacking more daunting and reptetitive tasks. A bash loop is a statement that allows code to be repeatedly excuted. This allows us to take a series of commands and keep re-running them until a particular situation is reached.</p>

<p>There are loop structures in bash scripting, however, we‚Äôll look the 2 I use the most below.</p>

<h1 id="loops">Loops</h1>
<p>One of the easiest and most useful loops to work with is <code class="language-plaintext highlighter-rouge">while</code>. When the while expression is true, keep executing these lines of code. The format of the command will look like this:</p>

<h2 id="while">while</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">while</span> <span class="p">[</span> <span class="n">arugment</span> <span class="p">]</span>
<span class="k">do</span>
<span class="p">[</span><span class="n">commands</span><span class="p">]</span>
<span class="n">done</span></code></pre></figure>

<p>An example of using <code class="language-plaintext highlighter-rouge">while</code> loops can be if we want a sequence of numbers from 1 to 10. We‚Äôll start by setting a variable to a number. The variable I‚Äôll use is ‚Äúvalue.‚Äù The argument we‚Äôll use is when ‚Äúvalue‚Äù is less than or equal (-le) to 10, print the number of ‚Äúvalue‚Äù, and then add 1 to value [((value++))]. Recall that the ‚Äú$‚Äù is where I entered code, you‚Äôll see a new symbol (‚Äú&gt;‚Äù) when excuting loops. Bash is essentially looking for you to end the loop with the statement ‚Äúdone.‚Äù</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span>
<span class="err">$</span> <span class="k">while</span> <span class="p">[</span> <span class="vg">$value</span> <span class="o">-</span><span class="n">le</span> <span class="mi">10</span> <span class="p">]</span>
<span class="o">&gt;</span> <span class="k">do</span>
<span class="o">&gt;</span> <span class="n">echo</span> <span class="vg">$value</span>
<span class="o">&gt;</span> <span class="p">((</span><span class="n">value</span><span class="o">++</span><span class="p">))</span>
<span class="o">&gt;</span> <span class="n">done</span></code></pre></figure>

<p>The next loop structure I like to use is a <code class="language-plaintext highlighter-rouge">for</code> loop. This is a little different than <code class="language-plaintext highlighter-rouge">while</code>, namely, what it does is say for each item in a given list, perform the given set of commands. The <code class="language-plaintext highlighter-rouge">for</code> loop will take each item in the list (in that order), assign that item to the variable, and excute the commands between ‚Äúdo‚Äù and ‚Äúdone.‚Äù The format looks like this:</p>

<h2 id="for">for</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">for</span> <span class="o">**</span><span class="n">variable</span><span class="o">**</span> <span class="k">in</span> <span class="p">[</span><span class="n">list</span><span class="p">]</span>
<span class="k">do</span>
<span class="p">[</span><span class="n">commands</span><span class="p">]</span>
<span class="n">done</span></code></pre></figure>

<p>To illustrate this, here is an example of looping through a list of names:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">names</span><span class="o">=</span><span class="s1">'Richard Scott Van'</span>
<span class="err">$</span> <span class="k">for</span> <span class="nb">name</span> <span class="k">in</span> <span class="vg">$names</span>
<span class="o">&gt;</span> <span class="k">do</span>
<span class="o">&gt;</span> <span class="n">echo</span> <span class="vg">$name</span>
<span class="o">&gt;</span> <span class="n">done</span></code></pre></figure>

<h1 id="scripting">Scripting</h1>

<p>I‚Äôm sure at this point, you‚Äôre asking yourself when are you going to need this?? Say you wanted to use Alphafold to predict structures of your protein, but you have a lot of homologues. To keep things orderly, you might create separate folders for each homologue, and have the same inputs for each folder, where the only difference is the sequence. This will be a lot of copying, making files, and work. So we can use a loop, but what if you plan on doing this multiple times for other projects? We can save our commands to a bash script. Bash scripts are ordinary text files which contain commands or mixture of commands. An example could be what we did for the previous <code class="language-plaintext highlighter-rouge">for</code> loop. To turn it into a script, we‚Äôll add the ‚Äú&gt;‚Äù mark and give the file the name, ‚Äúfor loop example.‚Äù</p>

<p>Now, how does bash differentiate between normal text files and scripts? We‚Äôll need to add a line to ‚Äúfor_loop_example.sh,‚Äù specifically we‚Äôll add one line at the top. This line is called a Shebang which tells bash to read it as script. Additionally, I prefer to name my scripts with the ‚Äú.sh‚Äù extension to differentiate this with other files. So the first thing I‚Äôll do is use <code class="language-plaintext highlighter-rouge">echo</code> to first make the Shebang, and then append (¬ª; two greater than symbols) the for loop to the file.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">echo</span> <span class="s2">"$!/bin/bash"</span> <span class="o">&gt;</span> <span class="n">for_loop_example</span><span class="p">.</span><span class="nf">sh</span>
<span class="err">$</span> <span class="n">names</span><span class="o">=</span><span class="s1">'richard scott van'</span>
<span class="err">$</span> <span class="k">for</span> <span class="nb">name</span> <span class="k">in</span> <span class="vg">$names</span>
<span class="o">&gt;</span> <span class="k">do</span>
<span class="o">&gt;</span> <span class="n">echo</span> <span class="vg">$name</span>
<span class="o">&gt;</span> <span class="n">done</span> <span class="o">&gt;&gt;</span> <span class="n">for_loop_example</span><span class="p">.</span><span class="nf">sh</span></code></pre></figure>

<p>If you <code class="language-plaintext highlighter-rouge">ls</code>, you should see the script. To run it, you‚Äôll type ‚Äúbash‚Äù before the script:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">bash</span> <span class="n">for_loop_example</span><span class="p">.</span><span class="nf">sh</span></code></pre></figure>

<p>Once you get better, you can also use <code class="language-plaintext highlighter-rouge">vi</code> (or any text editor) to make a new file, and then write out the script manually.</p>

:ET